apiVersion: v1
kind: ConfigMap
metadata:
  name: backend-config
  namespace: foundry-idp
data:
  # API Configuration
  API_V1_STR: "/api/v1"
  PROJECT_NAME: "DevPlatform IDP"
  DEBUG: "false"
  
  # Redis Configuration
  REDIS_URL: "redis://redis-service:6379/0"
  CELERY_BROKER_URL: "redis://redis-service:6379/0"
  CELERY_RESULT_BACKEND: "redis://redis-service:6379/0"
  
  # Plugin system
  PLUGINS_STORAGE_PATH: "/app/storage/plugins"
  GIT_WORK_DIR: "/app/storage/git-repos"
  
  # CORS - Update with your domain (includes localhost for local development)
  CORS_ORIGINS: "http://localhost:3000,http://localhost:5173,https://foundry-idp.com"
  
  # Microservice Template Configuration
  GITHUB_TEMPLATE_REPO_URL: "https://github.com/sajjadkhan-academy/idp-templates.git"
  
  # Casbin Configuration
  # Policy cache TTL in seconds (lower = faster sync across replicas, higher = better performance)
  CASBIN_CACHE_TTL: "2.0"

